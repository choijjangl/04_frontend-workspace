<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체</title>
    <style>
    .area{
        background-color: rgb(247, 225, 247);
        border: 1px solid black;
        width: 200px;
    }

    .big{height: 400px;}
    .small{height: 200px;}
    </style>
</head>
<body>
    <h1>객체</h1>

    <h3>* 객체 선언 및 사용</h3>
    <p>
    객체는 중괄호{}를 사용해서 생성하고,<br>
    중괄호 안에 이 객체에서 필요한 속성(property)들을 정의함 <br>
    속성명 : 속성값의 형태로 정의함 (키 : 벨류) <br>
    속성값으로는 모든 자료형의 값을 담을 수 있음 
    </p>

    <pre>
    변수 = {
        속성명 : 속성갑, 
        속성명 : 속성값,
        속성명 : 속성값,
        ....
    };
    </pre>

    <button onclick="test1();">실행하기</button>

    <div id="area1" class="area big"></div>

    <script>
        function test1(){
            const arr = ["최민수", 26, "대학생", "purple",["4학년",11725091]];
            // 자바스크립트에서 배열 == 자바에서의 컬렉션과 유사

            const student = {
                mName:"최민수",
                age:26,
                cName:"대학생",
                color:"purple",
                uni:["4학년", 11725091]
            };
            console.log(student);
            console.log(typeof(student));
            // 자바스크립트에서의 객체 == 자바에서의 컬렉션(HashMap)과 유사

            const area1 = document.getElementById('area1');
            area1.innerHTML += "student" + area1/*.toString()*/ + "<br>" // tostring()자동호출 => 우리가 나중에 재정의 할거임
            // 객체의 속성에 접근하는 방법
            // 방법1. 대괄호를 이용하는 방법 : 객체명 ["속성명, 키값"] 쌍따옴표 필수
            area1.innerHTML += "<b>객체명['속성명']으로 접근하기</b><br>";
            area1.innerHTML +=  "pName : " + student["pName"] + "<br>";
            area1.innerHTML +=  "age  :" + student["age"] // student에 변수를 찾기때문에 꼭 쌍따옴표 필요
            area1.innerHTML +=  "cName : " + student["pName"] + "<br>";
            area1.innerHTML +=  "coler : " + student["color"] + "<br>";
            area1.innerHTML +=  "uni : " + student["uni"] + "<br>"; //toString ()호출
            area1.innerHTML +=  "uni : " + student["uni"][0] + "<br>"; // uni 안의 인덱스 0번재 값 출력
            
            area1.innerHTML +=  "<br> <br>";

            // 방법2. .을 이용하는 방법 : 객체명.속성명 쌍따옴표 없음
            area1.innerHTML +=  "<b>객체명.속성명으로 접근하기</b><br>";
            area1.innerHTML +=  "mName : " + student.mName + "<br>"
            area1.innerHTML +=  "age : " + student.age + "<br>";
            area1.innerHTML +=  "cName : " + student.cName + "<br>";
            area1.innerHTML +=  "color : " + student.color + "<br>";
            area1.innerHTML +=  "학번 : " + student.uni[1] + "<br>";
        }
    </script>
    <br>
    <h3> * 객체 생성시 특이 케이스 (속성명 제시시 반드시 문자열 형태로 해야되는 케이스) => 근데 거의 없음</h3>

    <button onclick="test2();">실행</button>

    <div id="area2" class="area small"></div>
    <script>
        function test2(){
            const user = { // 객체 생성
                "user Name" : "최다니엘",
                "age!!" :  20,
                // 공백이 있거나 특문이 있는 경우 이와 같이 만듦 (쌍따옴표)

            };
            console.log(user);

            const area2 = document.getElementById("area2");

            // .을 이용 => 객체명.속성명
            // area2.innerHTML += "user name : " + user."user name" +"<br>"
            // area2.innerHTML += "age!! : " + user.age!! +"<br>";

            // 대괄호를 이용 => 객체명["속성명"]
            area2.innerHTML += "user name : " + user["user name"] + "<br>";
            area2.innerHTML += "age!! : " + user["agee!!"] +"<br>";
        }
    </script>

    <hr>
    <h3>* 객체에서의 반복문</h3>
    <p>객체가 가지고 있는 모든 속성들에 순차적으로 접근하고자 한다면 반복문 제시 가능. <br>
        단, 단순한 for loop로는 불가능(인덱스 개념 미존재) for in문만 사용 가능함
    </p>

    <button>실행확인</button>
    <div id="area3" class="area small"></div>

    <script>
        function test3(){
            const arr = ["최민수", 10, true];
            for(let i in arr){
                console.log(arr[i]);
            }

            // in 뒤에 배열 제시시
            // 반복문이 돌 때마다 0에서부터 마지막 인덱스 까지 인덱스의 수가 담김

            const game = {
                title : "오버워치", 
                price : 35000,
                language: "한국어지원",
                company : "블리자드"
            };
            const area3 = document.querySelector("#area3");
            for(let key in game){ // key = "title" => key = "price";
                // .을 이용해서 접근
                // area3.innerHTML += key + ":" + game.key + "<br>";// game 객체에 key라는 속성을 갖을순 없다
                
                //대괄호를 이용해서 접근 => 객체명["속성명"]
                area3.innerHTML += key = ":" + game[key] + "<br>";
            }
            // in 뒤에 객체 제시시
            // 반목문 돌때 마다 해당 객체의 속성명이 앞쪽으로 변수에 당김
        }
    </script>

    <hr>

    <h3>* 객체의 메소드 속성</h3>

    <P> 객체의 속성중에 함수자료형인 속성을 메소드라 부름</P>

    <button onclick="test4();">실행확인</button>
    <div id="area4" class="area small"></div>

    <script>
        function test4(){
            const area4 = document.getElementById("area4");

            const name = "문준철";

            const dog = {
                name:"복실이",
                kind:"비글",
                eat:function(food){
                    // area4.innerHTML += "eat 메소드가 호출되었습니다. <br>";
                    // area4.innerHTML += food;

                    // 비글 종류인 복실이가 food을(를) 먹고있어요.
                    // 메소드 속성에서 같은 객체 내의 속성에 접근하고자 한다면 this.을 붙여야됨
                    // this 현재 메소드 내에.
                    area4.innerHTML += this.kind + "종류인 " + name + "가 " + food + "을(를) 먹고 있어요 <br> <br>"
                }
            };
            dog.eat("사과");
            window.alert();
        }
    </script>

    <hr>

    <h3>*in 과 with 키워드</h3>
    <p>
        in : 객체 내의 해당 속성이 있는지 확인해주는 키워드 (존재하면 true 아니면 false) <br>
        with : 객체의 속성 접근시 객체명 제시하는걸 생략할 수 있음 (코드를 줄여주는 메소드)
    </p>
    
    이름 : <input type="text" id="name"> <br>
    국어 : <input type="number" id="kor"> <br>
    수학 : <input type="number" id="math"> <br>
    영어 : <input type="number" id="eng"> <br>
    <button onclick="test5();">tlfgodghkrdls</button>
    <div id="area5" class="area big"></div>

    <script>
        function test5(){
            const student = { //객체 생성
                name:document.getElementById("name").value,
                kor:Number(document.getElementById("kor").value),
                math:Number(document.getElementById("math").value),
                eng:Number(document.getElementById("eng").value),
                toString:function(){
                    // return "안녕";
                    return this.name + " " + this.kor + " " + this.math + " " + this.eng;
                },
                getSum:function(){
                    return this.kor + this.end + this.math;
                },
                getAvg:function(){
                    return this.getSum() /3;
                }
            };
            console.log(student);

            const area5 = document.getElementById("area5");
            area5.innerHTML += "student : " + student/*.toString*/ + "<br>"

            // "속성명" in 객체명 : 객체에 해당 속성이 존재할 경우 true, 아니면 false
            area5.innerHTML += "name 속성이 있나 : " + ("name" in student) + "<br>";
            area5.innerHTML += "age 속성이 있나 : " + ("age" in student) + "<br>";

            with(student){
            area5.innerHTML += "학생이름 : " + name + "<br>";
            area5.innerHTML += "수학점수 : " + math + "<br>";
            area5.innerHTML += "국어점수 : " + kor + "<br>";
            area5.innerHTML += "영어점수 : " + eng + "<br>";
            area5.innerHTML += "총점 : " + getSum() + "<br>";
            area5.innerHTML += "평균 : " + getAvg() + "<br>"; 
            }
        }
    </script>

    <hr>

    <h3>* 객체의 속성 추가 및 제거</h3>

    <button onclick="test6();">실행확인</button>
    <div id="area6" class="area small"></div>

    <script>
        function test6(){
            const student = {}; // 빈 객체 생성

            // 객체에 속성 추가
            student.name = "문준철";
            student.hobby = ["틱톡", "물구나무"];
            student.dream = "틱톡커로 게시물당 10만원";
            student.age = 20;
            student.dream = "틱톡커"; // 중복된 이름 속성 존재 불가함. 마지막꺼가 반영

            // 메소드 속성추가
            student.toString = function(){
                const str = "name : " + this.name + "<br>"
                          + "hobby : " + this.hobby + "<br>"
                          + "dream : " + this.dream + "<br>"
                          + "age : " + this.age + "<br>"
            }
            console.log(student);

            const area6 = document.getElementById("area6");
            area6.innerHTML += student + "<br>";

            // 객체의 속성 제거
            delete(student.hobby);

            area6.innerHTML += student + "<hr>"
        }
    </script>

</body>
</html>